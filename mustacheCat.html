<!DOCTYPE html>
<html>
<head>
<meta charset=utf-8 />
<title>Mustaches on Kittens!</title>
</head>
<body>
<h1><b>Mustache Cat!</b></h1>
  Click the image to put a mustache on the kitten!
  <p>
  <input type="button" onClick="location.reload()" value="Restart">
  <p>
  <input type="submit" onClick="mustacheKitten()" value="Gimme another kitten">
  <p>
  </body>
</html>

<script>

var mustacheKitten = function(){
  var c=document.createElement("canvas");
  c.width = "400";
  c.height = "400";
  c.innerHTML = "Your browser does not support the HTML5 canvas tag.";
  document.getElementsByTagName("body")[0].appendChild(c);
  var ctx=c.getContext("2d");
  var kittenImg = document.createElement('img');
  kittenImg.src = "http://placekitten.com/" + ((Math.floor((Math.random()*100)+1))+300) + "/" + ((Math.floor((Math.random()*100)+1))+300);
  kittenImg.onload=function(){
    ctx.drawImage(kittenImg,10,10);
  }
  c.addEventListener('click', onClick, false);

  function onClick(e) {
    var moImg = document.createElement("img");
    moImg.src = "http://fc03.deviantart.net/fs71/f/2012/243/a/0/mustache_png____by_yazsexydilemma-d5d3enz.png";
    moImg.onload=function(){
      ctx.drawImage(moImg, (e.layerX - 50), (e.layerY - 50), 100, 100);
    }
  }
}

mustacheKitten()
  </script>

